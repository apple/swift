// RUN: %scale-test --begin 1 --end 10  --step 1 --select NumLeafScopes %s
// REQUIRES: asserts,no_asan

func test(_: [A]) {}

class A {}

protocol P {
  var arr: Int { get }
}

extension P {
  var arr: Int { get { return 42 } }
}

class S : P {
  func arr() -> [A] { [] }
  func arr(_: Int = 42) -> [A] { [] }
}

// There is a clash between `arr` property and `arr` methods
// returning `[A]` which shouldn't prevent "common result"
// determination.
func run_test(s: S) {
  test(s.arr() +
       %for i in range(0, N):
       s.arr() +
       %end
       s.arr())
}
