# REQUIRES: standalone_build

# RUN: %empty-directory(%t)
# RUN: mkdir -p %t
# RUN: SWIFT_BUILD_ROOT=%t %swift_src_root/utils/build-script --dry-run --xctest --llbuild --cmake %cmake  2>&1 | %FileCheck --check-prefix=CLEAN-LLBUILD-CHECK %s

# RUN: %empty-directory(%t)
# RUN: mkdir -p %t
# RUN: SWIFT_BUILD_ROOT=%t %swift_src_root/utils/build-script --dry-run --xctest --llbuild --skip-clean-xctest --skip-clean-llbuild --cmake %cmake  2>&1 | %FileCheck --check-prefix=SKIP-CLEAN-LLBUILD-CHECK %s

# CLEAN-LLBUILD-CHECK: Cleaning the XCTest build directory
# CLEAN-LLBUILD-CHECK-NEXT: rm -rf
# CLEAN-LLBUILD-CHECK: Cleaning the llbuild build directory
# CLEAN-LLBUILD-CHECK-NEXT: rm -rf

# SKIP-CLEAN-LLBUILD-CHECK-NOT: Cleaning the XCTest build directory
# SKIP-CLEAN-LLBUILD-CHECK-NOT: rm -rf {{.*/xctest-[^/]*}}
# SKIP-CLEAN-LLBUILD-CHECK-NOT: Cleaning the llbuild build directory
# SKIP-CLEAN-LLBUILD-CHECK-NOT: rm -rf {{.*/llbuild-[^/]*}}
