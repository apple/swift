import os

# Tell pylint that we know config and lit_config exist somewhere.
if 'PYLINT_IMPORT' in os.environ:
  from lit.LitConfig import LitConfig
  from lit.TestingConfig import TestingConfig
  config = TestingConfig()
  lit_config = LitConfig()

# Make a local copy of the substitutions.
config.substitutions = list(config.substitutions)

config.substitutions.insert(0, ('%check-in-clang',
  '%%clang -fsyntax-only -x objective-c-header -fobjc-arc -fmodules '
  '-fmodules-validate-system-headers '
  '-Weverything -Werror -Wno-unused-macros -Wno-incomplete-module '
  '-Wno-auto-import '
  '-F %%clang-importer-sdk-path/frameworks '
  '-I %%clang-include-dir '
  '-isysroot %r/Inputs/clang-importer-sdk' % config.test_source_root) )
